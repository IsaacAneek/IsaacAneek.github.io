<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Logging things as I learn…" href="index.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>How to set up AVR Toolchain for Lite XL code editor (Windows) - Dev Logs</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Dev Logs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Dev Logs</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">How to set up AVR Toolchain for Lite XL code editor (Windows)</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/avr-toolchain.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="how-to-set-up-avr-toolchain-for-lite-xl-code-editor-windows">
<h1>How to set up AVR Toolchain for Lite XL code editor (Windows)<a class="headerlink" href="#how-to-set-up-avr-toolchain-for-lite-xl-code-editor-windows" title="Link to this heading">¶</a></h1>
<section id="backstory">
<h2>Backstory<a class="headerlink" href="#backstory" title="Link to this heading">¶</a></h2>
<p>A couple of days ago I was trying to program my Arduino UNO R3 board using my good ol’ laptop with only 4Gigs of RAM and Dual Core Processor.
Previously I had tried VS Code and Arduino IDE but it definitely wasn’t the smoothest experience. They are built on the Electron framwork so they
aren’t supposed to run smooth on low-end devices either. I was searching for a lightweight code editor and yea that’s when found about Lite XL text editor.</p>
<p>The bundle size is small (around 5MB) and yea it runs crispy smooth on my good ol’ laptop. It’s also extensible with plugins. Now let’s get started.</p>
</section>
<section id="lite-xl">
<h2>Lite XL<a class="headerlink" href="#lite-xl" title="Link to this heading">¶</a></h2>
<p>You can start by downloading and installing Lite XL from <a class="reference external" href="https://lite-xl.com/">their website</a></p>
<p>Open a <a href="#id1"><span class="problematic" id="id2">*</span></a>.c or <a href="#id3"><span class="problematic" id="id4">*</span></a>.py file and you are good to go. Yes there will be lot of errors because the editor doesn’t support autocomplete and linting
out of the box. It only comes with syntax highligting and some basic features. We need to install plugins to leverage the advanced features.</p>
</section>
<section id="installing-lite-xl-plugin-manager">
<h2>Installing Lite XL Plugin Manager<a class="headerlink" href="#installing-lite-xl-plugin-manager" title="Link to this heading">¶</a></h2>
<p>Lite XL doesn’t come with the Plugin Manager by default. Install it <a class="reference external" href="https://github.com/lite-xl/lite-xl-plugin-manager#installing">from here</a> and restart the editor.</p>
<p>To verify if it has been succesfully installed, open the editor and tap <code class="docutils literal notranslate"><span class="pre">ctrl</span> <span class="pre">+</span> <span class="pre">shift</span> <span class="pre">+</span> <span class="pre">p</span></code> and search for “Plugin”. If it appears then
you are good to go.</p>
</section>
<section id="downloading-the-avr-toolchain-and-related-tools">
<h2>Downloading the AVR Toolchain and related tools<a class="headerlink" href="#downloading-the-avr-toolchain-and-related-tools" title="Link to this heading">¶</a></h2>
<p>These are some good resources to learn how to download AVR Toolchain and related tools.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://tinusaur.com/guides/avr-gcc-toolchain/">AVR GCC Toolchain – Setup for Windows</a></p></li>
<li><p><a class="reference external" href="https://www.tonymitchell.ca/posts/setup-avr-toolchain-on-windows/">How to setup the AVR toolchain on Windows</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s not necessary  to download and install all the tools mentioned. The required tools are:</p>
<ul class="simple">
<li><p>AVRDUDE</p></li>
<li><p>AVR Toolchain</p></li>
<li><p>GNU Make</p></li>
<li><p>CMake (Not mentioned but we will need it later)</p></li>
</ul>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Make sure to add the directory of each tool to the PATH variable. This will allow windows  to search the paths specified
in the PATH variable to find the corresponding executable whenever we execute a CLI in the command prompt.</p>
</div>
</section>
<section id="building-a-simple-blinky-c-example-manually">
<h2>Building a simple blinky.c example manually<a class="headerlink" href="#building-a-simple-blinky-c-example-manually" title="Link to this heading">¶</a></h2>
<p>Create a new project by following <a class="reference external" href="https://www.tonymitchell.ca/posts/building-avr-projects-with-make/#project-setup">this</a> .
Open the blinky.c with Lite XL. The editor might show a lot of errors but for now we are gonna ignore that. We will try build the project
manually and see if we can succeed. <a class="reference external" href="https://www.tonymitchell.ca/posts/building-avr-projects-with-make/#building-it-manually">Follow this</a> and
it should compile without errors. If it does then we are good to go for the next step.</p>
</section>
<section id="configuring-lsp-plugin-for-lite-xl-editor">
<h2>Configuring LSP Plugin for Lite XL editor<a class="headerlink" href="#configuring-lsp-plugin-for-lite-xl-editor" title="Link to this heading">¶</a></h2>
<p>Now the real pain begins.</p>
<blockquote>
<div><p>Plugin that provides intellisense for Lite XL by leveraging the LSP protocol</p>
</div></blockquote>
<p>from their <a class="reference external" href="https://github.com/lite-xl/lite-xl-lsp">doc</a>. To install LSP:</p>
<ul class="simple">
<li><p>Open Lite XL</p></li>
<li><p>Press <code class="docutils literal notranslate"><span class="pre">ctrl</span> <span class="pre">+</span> <span class="pre">shift</span> <span class="pre">+</span> <span class="pre">p</span></code></p></li>
<li><p>Search for <code class="docutils literal notranslate"><span class="pre">Plugin</span> <span class="pre">Manager:</span> <span class="pre">Show</span></code></p></li>
<li><p>Press and again search for <code class="docutils literal notranslate"><span class="pre">Language</span> <span class="pre">Server</span> <span class="pre">Protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">lsp_c</span></code>. Install both.</p></li>
<li><p>Or you can manually install the LSP plugin <a class="reference external" href="https://github.com/lite-xl/lite-xl-lsp">from here</a>.</p></li>
</ul>
<p>Restart editor and you should be able to see smooth autocompletion?? No. Instead we will see heaps of red lines and errors.
Now there are a couple of reasons.</p>
<ul class="simple">
<li><p>The Language Server (more specifically clangd) doesnt know where to search for header files since we are using custom toolchain.</p></li>
<li><p>Some files in the AVR Toolchain contains undefined macros. This is ok since <code class="docutils literal notranslate"><span class="pre">avr-gcc</span></code> defines those macros at compile time <a class="footnote-reference brackets" href="#id11" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. but
since clangd doesn’t know this <a class="footnote-reference brackets" href="#id12" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> and it emulates clang, it will show errors. They typically look like <code class="docutils literal notranslate"><span class="pre">invalid</span> <span class="pre">preprocessor</span> <span class="pre">directive</span></code></p></li>
</ul>
<p>Now there are a couple of ways we can mitigate these issues.</p>
<ul class="simple">
<li><p>Using a global <code class="docutils literal notranslate"><span class="pre">clang.yaml</span></code> config file to configure clang. <a class="footnote-reference brackets" href="#id13" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p></li>
<li><p>Creating and using project specific <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> using <code class="docutils literal notranslate"><span class="pre">CMake</span></code> <a class="footnote-reference brackets" href="#id14" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></li>
</ul>
<p>The first one is fast but temporary solution. It solves the <code class="docutils literal notranslate"><span class="pre">header</span> <span class="pre">file</span> <span class="pre">not</span> <span class="pre">found</span></code> problem by specifying compile flags to search
for specified path for header files. Also it configures the clangd Language Server globally. This might create issues if we are working
on multiple projects with multiple different toolchains.</p>
<p>So we will be implementing the second solution as it is more robust.</p>
</section>
<section id="creating-and-using-project-specific-compile-commands-json-using-cmake">
<h2>Creating and using project specific <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> using CMake<a class="headerlink" href="#creating-and-using-project-specific-compile-commands-json-using-cmake" title="Link to this heading">¶</a></h2>
<p>Download the CMakeLists.txt file from <a class="reference external" href="https://github.com/IsaacAneek/cmake-make-avr/tree/main/CMake">here</a> and put it in your project
directory. Open it. We are gonna change only a couple of things and leave the rest as is.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set(PROGRAMMER_ARGS</span> <span class="pre">-P</span> <span class="pre">COM7)</span></code>.
Change the <code class="docutils literal notranslate"><span class="pre">COM7</span></code> to whataver the port your board is using. Use Device Manager if you don’t know the
port.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project</span> <span class="pre">(main</span> <span class="pre">C</span> <span class="pre">CXX</span> <span class="pre">ASM)</span></code>
Change <code class="docutils literal notranslate"><span class="pre">main</span></code> to name of your project file. In our case it would be <code class="docutils literal notranslate"><span class="pre">blinky</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set(INC_PATH</span>&#160;&#160;&#160;&#160; <span class="pre">&quot;D:/Softwares(Setup)/AVR</span> <span class="pre">Toolchain/avr8-gnu-toolchain-win32_x86_64/avr/include&quot;)</span></code>
Replace this with your own <code class="docutils literal notranslate"><span class="pre">....avr8-gnu-toolchain-win32_x86_64/avr/include</span></code> directory</p></li>
</ul>
<p>Ok we are done for now.</p>
<p>Now we will try to create <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code>. This file configures clangd to search for specified paths for headers.
It also mitigates the undefined macro problems. You can create <code class="docutils literal notranslate"><span class="pre">build</span></code> directory to seperate your src code
and your build code but for now will be working on our project directory. Open PowerShell/CMD in your project directory and run this command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;MinGW Makefiles&quot;</span> <span class="o">-</span><span class="n">DCMAKE_EXPORT_COMPILE_COMMANDS</span><span class="o">=</span><span class="n">ON</span>
</pre></div>
</div>
<p>This will create a <code class="docutils literal notranslate"><span class="pre">MakeFile</span></code> and a <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> in the project diretory.
Now if you restart the editor and open the blinky.c file again there should be no errors.
The autocomplete should work properly. PORT variables should come up in the autocomplete suggestions.
No <code class="docutils literal notranslate"><span class="pre">invalid</span> <span class="pre">preprocesor</span> <span class="pre">directive</span></code> error should come up.</p>
</section>
<section id="building-the-code-and-flashing-it-to-the-uno-r3">
<h2>Building the code and flashing it to the UNO R3<a class="headerlink" href="#building-the-code-and-flashing-it-to-the-uno-r3" title="Link to this heading">¶</a></h2>
<p>Open PowerShell/CMD in the project directory again.
Run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="nb">all</span>
</pre></div>
</div>
<p>This should compile and link your project files without any errors.</p>
<p>Then run this to flash the <a href="#id9"><span class="problematic" id="id10">*</span></a>.hex file to the UNO R3 board.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">flash</span>
</pre></div>
</div>
<p>The flash should complete without any errors.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc-8.3.0/gcc/AVR-Options.html#AVR-Built-in-Macros">https://gcc.gnu.org/onlinedocs/gcc-8.3.0/gcc/AVR-Options.html#AVR-Built-in-Macros</a></p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/clangd/clangd/issues/528#issuecomment-695356278">https://github.com/clangd/clangd/issues/528#issuecomment-695356278</a></p>
</aside>
<aside class="footnote brackets" id="id13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://clangd.llvm.org/config.html#compileflags">https://clangd.llvm.org/config.html#compileflags</a></p>
</aside>
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://clang.llvm.org/docs/JSONCompilationDatabase.html">https://clang.llvm.org/docs/JSONCompilationDatabase.html</a></p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Isaac Aneek
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">How to set up AVR Toolchain for Lite XL code editor (Windows)</a><ul>
<li><a class="reference internal" href="#backstory">Backstory</a></li>
<li><a class="reference internal" href="#lite-xl">Lite XL</a></li>
<li><a class="reference internal" href="#installing-lite-xl-plugin-manager">Installing Lite XL Plugin Manager</a></li>
<li><a class="reference internal" href="#downloading-the-avr-toolchain-and-related-tools">Downloading the AVR Toolchain and related tools</a></li>
<li><a class="reference internal" href="#building-a-simple-blinky-c-example-manually">Building a simple blinky.c example manually</a></li>
<li><a class="reference internal" href="#configuring-lsp-plugin-for-lite-xl-editor">Configuring LSP Plugin for Lite XL editor</a></li>
<li><a class="reference internal" href="#creating-and-using-project-specific-compile-commands-json-using-cmake">Creating and using project specific <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> using CMake</a></li>
<li><a class="reference internal" href="#building-the-code-and-flashing-it-to-the-uno-r3">Building the code and flashing it to the UNO R3</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>